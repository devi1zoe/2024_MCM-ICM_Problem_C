第一问：
0.发球与得分的kappa检验，证明具有相关性，为1打基础
1.建立多级指标的评价体系，一锅烩容易使得评价分数存在不透明度，于是依靠具体数据、现有研究将状态表现分为四方面：心态分、技巧分、 体力分、发球分，还有一个其他项为扰动项。（天气、场地等）
2.将题目所给变量数据按照论文分为以上四个方面，并对所给变量进行处理：
	数据归一化和标准化、
	滑动窗口（短程）和全局（长程）两种注意力下的好坏球数累计（当作影响心态的因素）、
	技巧方面chatgpt专家给出发球深度、方向等符号变量的赋值、
	舍弃正反手攻球，这个指标算个人习惯，不算技巧，且数据正反手的比例并不协调，容易引喻失义、
	休息机制到位，每场的match、set、game number_no这些我们不考虑会影响强壮的男单决赛选手们的体力
3.用随机森林模型得到每个方面的每个变量的权重，根据每一方面对一次game的结果的影响得到每个方面内每个变量的重要程度
4.用随机森林模型得到每个方面的权重，根据每一方面对一次game的结果的影响得到每个方面的重要程度
5.最终得到一个预测结果的公式
（为迎合题目选的1701，我们的模型可以适用于多场match）
6.用公式得出1701场五场set中的player1，player2的势头，进行可视化和解释
7.对势头进行累加展示五场set中的player1，player2的累加势头，进行可视化和解释



•一位网球教练怀疑“势头”在比赛中是否起作用。相反，他假设一个玩家在游戏中的波动和成功的运行是随机的。使用你的模型/指标来评估这种说法。
第二问：
1.使用第一问的随机森林构建的模型来训练，以学习势头与比赛结果之间的关系。
2.确定原假设与备择假设:
	原假设（零假设）：势头在比赛中不起作用，玩家的运动是随机的。
	备择假设：势头在比赛中起作用，玩家的运动不是随机的。
3.进行置换检验:通过随机排列势头数据，重新使用机器学习模型来预测比赛结果。这相当于破坏了势头与比赛结果之间的关系，将其变得随机。
4.计算每次排列后的模型预测结果
5.将原模型的预测结果与每次排列后的预测结果进行比较，计算统计量（如准确率、F1分数等）。
6.根据这些统计量计算p值，表示在零假设下观察到的结果概率。
7.绘制p值的分布图，以直观展示在零假设下观察到的统计量与随机排列情况下的差异。
8.判断拒绝或接受零假设:
	如果观察到的p值小于显著性水平（通常为0.05），则拒绝零假设，支持备择假设，即势头在比赛中起作用。
	如果p值大于显著性水平，则无法拒绝零假设，暗示势头在比赛中可能不起作用。
9.根据p值的结果，向教练解释研究的统计显著性，以及势头在比赛中是否具有影响。





•教练们很想知道是否有一些指标可以帮助确定比赛流程何时会从一个球员转变为另一个球员。
	利用至少一场比赛提供的数据，建立一个模型来预测比赛中的这些波动。哪些因素似乎最相关(如果有的话)?
	问:考虑到过去比赛中“动量”波动的不同，你如何建议一名球员与另一名球员进行新的比赛?
第三问第一小问：
1. 四种模型对1701比赛中p1p2两个球员的势能进行预测：预测方法是前面所有的预测当下的（前五个预测值为真实值）
2. 根据“四个模型的rmse mae数值.xlsx”画表，展示lightGMB模型的准确性
3. 用lightGMB模型生成的势能预测值和第一问评价模型得到的势能值进行可视化
4. 定义“预测的势能差”这个概念，并可视化势能差的变化，为了更好展示一段时间内swings的波动，定义了点
5. 直观展示了一定时间内谁得势，得势多少
第三问第二小问：
1. 第一问的随机森林模型，把因变量（待预测的变量）改为势头，自变量扩大为所有可用数据（不同于第一问要评价表现，这里只需要找到指标）
2. 可视化1701的p1p2势头的影响变量的重要程度
第三问第三小问：
1. 引用前文可视化的图中的比较好解释的信息，给出建议
2. 语文建模，可以看看atp（之前发的男子网球协会？资讯网站）找思路





•在一个或多个其他比赛中测试你开发的模型。你对比赛结果的预测有多准确?如果模型有时表现不佳，您能否确定可能需要包括在未来模型中的任何因素?您的模型对其他比赛(如女子比赛)、锦标赛、球场表面和其他运动(如乒乓球)的通用性如何?
第四问第一小问：
1. 更改match为31场中不为1701的其他比赛，如第一场比赛：1301
2. 复刻第三问第一小问-但是只用一种模型，RMSE MAE MAPE MSLE R2五个评价指标（变多了欸.）其他不变
3. 注意：需要对可视化的数据进行独特的个例分析，语文建模--尤其表现不佳时，扣题(可以看看atp找思路
第四问第二小问：
1. 找其他球类的数据
2. 带入数据复刻第三问第一小问，语文建模


